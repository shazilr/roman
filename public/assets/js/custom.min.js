// // SLIDER
function mainSlider1Init() {
  var interleaveOffset = 0.5;
  var swiperOptions = {
    loop: true,
    speed: 1000,
    parallax: true,
    // autoplay: {
    //     delay: 3500,
    //     disableOnInteraction: false,
    // },
    autoplay: false,
    grabCursor: false,
    pagination: {
      el: ".swiper-pagination",
      clickable: true,
      renderBullet: function (index, className) {
        return '<span class="' + className + '">' + (index + 1) + "</span>";
      },
    },
    navigation: {
      nextEl: ".swiper-button-next",
      prevEl: ".swiper-button-prev",
    },
    // on: {
    //     progress: function () {
    //         var swiper = this;
    //         for (var i = 0; i < swiper.slides.length; i++) {
    //             var slideProgress = swiper.slides[i].progress;
    //             var innerOffset = swiper.width * interleaveOffset;
    //             var innerTranslate = slideProgress * innerOffset;
    //             swiper.slides[i].querySelector('.slide-inner').style.transform = 'translate3d(' + innerTranslate + 'px, 0, 0)';
    //         }
    //     },
    //     touchStart: function () {
    //         var swiper = this;
    //         for (var i = 0; i < swiper.slides.length; i++) {
    //             swiper.slides[i].style.transition = '';
    //         }
    //     },
    //     setTransition: function (speed) {
    //         var swiper = this;
    //         for (var i = 0; i < swiper.slides.length; i++) {
    //             swiper.slides[i].style.transition = speed + 'ms';
    //             swiper.slides[i].querySelector('.slide-inner').style.transition = speed + 'ms';
    //         }
    //     }
    // }
  };

  var homeSlider = new Swiper(".homeSlider", swiperOptions);

  var pageSection = $(".bg-image");
  pageSection.each(function (indx) {
    if ($(this).attr("data-background")) {
      $(this).css(
        "background-image",
        "url(" + $(this).data("background") + ")"
      );
    }
  });
}
mainSlider1Init();

$('a[href="#search"]').on("click", function (event) {
  event.preventDefault();
  $("#search").addClass("open");
  $('#search > form > input[type="search"]').focus();
});

$("#search, #search button.close").on("click keyup", function (event) {
  if (
    event.target == this ||
    event.target.className == "close" ||
    event.keyCode == 27
  ) {
    $(this).removeClass("open");
  }
});

//gsap loader
const tl = gsap.timeline({ duration: 0.1 });
function preLoader(tl) {
  tl.to(".preLoader.black > img", {
    delay: 1,
    y: 50,
    autoAlpha: 0,
  })
    .to(".preLoader.black", {
      yPercent: -100,
    })
    .to(".preLoader.white", {
      yPercent: -100,
    })
    .to(".preLoader", {
      css: {
        display: "none",
      },
    })

    .from(".mouse", {
      y: -50,
      autoAlpha: 0,
    })
    .from(
      ".scroll",
      {
        autoAlpha: 0,
        y: -100,
        stagger: 0.05,
      },
      ">-0.5"
    )

    .from(".navbar-brand > img", {
      x: -50,
      autoAlpha: 0,
    })

    .from(
      ".navbar-nav > li, .form-inline a",
      {
        autoAlpha: 0,
        x: 100,
        stagger: 0.05,
      },
      ">-0.5"
    )

    .from(".slideOne", {
      autoAlpha: 0,
      yPercent: 100,
      stagger: 0.05,
    });
  // .from(
  //  '.bg-image',
  //  {
  //      autoAlpha: 0
  //  },
  //  '<-0.25'
  // )
}



// function initialization
$(window).on("load", function () {
  let str = window.location.href;
  str = str.split("/");
  if (str.at(-1) === "index.php" || str.at(-1) === "") {
    preLoader(tl);
  } else {
  }
});

var videoSlider = new Swiper(".videoSlider", {
  loop: true,
  // autoplay: true,
  slidesPerView: 1,
  // spaceBetween: 10,
  centeredSlides: true,
  roundLengths: true,
  // If we need pagination

  breakpoints: {
    1024: {
      slidesPerView: 1.8,
      spaceBetween: 60,
    },
    768: {
      slidesPerView: 2.2,
      spaceBetween: 20,
    },
    640: {
      slidesPerView: 2,
      spaceBetween: 10,
    },
    576: {
      slidesPerView: 2,
      spaceBetween: 10,
    },
    375: {
      slidesPerView: 1,
      spaceBetween: 10,
    },
  },

  // Navigation arrows
  navigation: {
    nextEl: ".swiper-button-next",
    prevEl: ".swiper-button-prev",
  },
  pagination: {
    el: ".swiper-pagination",
    // type: 'fraction'
  },

  // And if we need scrollbar
  scrollbar: {
    el: ".swiper-scrollbar",
  },
});

var videoimgSlider = new Swiper(".videoimgSlider", {
  loop: true,
  // autoplay: true,
  slidesPerView: 1,
  // spaceBetween: 10,
  // If we need pagination

  breakpoints: {
    1024: {
      slidesPerView: 2.5,
      spaceBetween: 20,
    },
    768: {
      slidesPerView: 2.2,
      spaceBetween: 20,
    },
    640: {
      slidesPerView: 2,
      spaceBetween: 10,
    },
    576: {
      slidesPerView: 2,
      spaceBetween: 10,
    },
    375: {
      slidesPerView: 1,
      spaceBetween: 10,
    },
  },

  // Navigation arrows
  navigation: {
    nextEl: ".swiper-button-next",
    prevEl: ".swiper-button-prev",
  },
  pagination: {
    el: ".swiper-pagination",
    // type: 'fraction'
  },

  // And if we need scrollbar
  scrollbar: {
    el: ".swiper-scrollbar",
  },
});


var swiper = new Swiper(".mySwiper", {
  loop: true,
  autoplay: true,
  spaceBetween: 10,
  slidesPerView: 4,
  freeMode: true,
  watchSlidesProgress: true,
});
var swiper2 = new Swiper(".mySwiper2", {
  loop: true,
  autoplay: true,
  spaceBetween: 10,
  navigation: {
    nextEl: ".swiper-button-next",
    prevEl: ".swiper-button-prev",
  },
  thumbs: {
    swiper: swiper,
  },
});




function incrementCounter() {
  // Cart Counter
  $('.proCounter .minus').click(function () {
    var $input = $(this).parent().find('input');
    var count = parseInt($input.val()) - 1;
    count = count < 1 ? 1 : count;
    $input.val(count);
    $input.change();
    return false;
  });
  $('.proCounter .plus').click(function () {
    var $input = $(this).parent().find('input');
    $input.val(parseInt($input.val()) + 1);
    $input.change();
    return false;
  });
  // Product Detail Counter
  $('.number .minus').click(function () {
    var $input = $(this).parent().find('input');
    var count = parseInt($input.val()) - 1;
    count = count < 1 ? 1 : count;
    $input.val(count);
    $input.change();
    return false;
  });
  $('.number .plus').click(function () {
    var $input = $(this).parent().find('input');
    $input.val(parseInt($input.val()) + 1);
    $input.change();
    return false;
  });
}
incrementCounter();


function mousecursor() {
  if ($("body")) {
    const e = document.querySelector(".cursor-inner"),
      t = document.querySelector(".cursor-outer");
    let n,
      i = 0,
      o = !1;
    (window.onmousemove = function (s) {
      o ||
        (t.style.transform =
          "translate(" + s.clientX + "px, " + s.clientY + "px)"),
        (e.style.transform =
          "translate(" + s.clientX + "px, " + s.clientY + "px)"),
        (n = s.clientY),
        (i = s.clientX);
    }),
      $("body").on("mouseenter", "a, img, .cursor-pointer", function () {
        e.classList.add("cursor-hover"), t.classList.add("cursor-hover");
      }),
      $("body").on("mouseleave", "a, img, .cursor-pointer", function () {
        ($(this).is("a, img") && $(this).closest(".cursor-pointer").length) ||
          (e.classList.remove("cursor-hover"),
            t.classList.remove("cursor-hover"));
      }),
      (e.style.visibility = "visible"),
      (t.style.visibility = "visible");
  }
}

$(function () {
  mousecursor();
});

function lenisSetup() {
  const lenis = new Lenis({
    duration: 1.2,
    easing: (t) => (t === 1 ? 1 : 1 - Math.pow(2, -10 * t)),
    direction: "vertical",
    gestureDirection: "vertical",
    smooth: true,
    smoothTouch: false,
    touchMultiplier: 2,
  });
  lenis.scrollTo(document.querySelector(".scrolllenis"));

  function raf(time) {
    lenis.raf(time);
    requestAnimationFrame(raf);
  }

  requestAnimationFrame(raf);
}
lenisSetup();

// AOS.init({
// 	duration: 1200
// });

$(function () {
  AOS.init({
    duration: 1200,
    disable: function () {
      var maxWidth = 1200;
      return window.innerWidth < maxWidth;
    },
  });
});
